# Model and device
MODEL_DEVICE=auto
# Required comma-separated allowlist; service exits if empty
MODELS=Qwen/Qwen3-4B-Instruct-2507
# Auto-download selected MODELS on startup (fails hard if download or load fails)
AUTO_DOWNLOAD_MODELS=1

# Concurrency / queueing
MAX_CONCURRENT=1
MAX_QUEUE_SIZE=128
QUEUE_TIMEOUT_SEC=2.0
BATCH_WINDOW_MS=4
BATCH_WINDOW_MAX_SIZE=16
ENABLE_BATCHING=1

# Embedding cache (LRU entries per model; set 0 to disable)
EMBEDDING_CACHE_SIZE=0

# Request guards
MAX_BATCH_SIZE=32
MAX_TEXT_CHARS=20000
MAX_NEW_TOKENS=512  # max tokens for chat/completions
MAX_AUDIO_BYTES=26214400  # 25MB audio guard for Whisper endpoints
# Remote image handling for multimodal chat (Qwen VL)
ALLOW_REMOTE_IMAGES=0          # set to 1 to enable http(s) image downloads
REMOTE_IMAGE_TIMEOUT=5         # seconds
MAX_REMOTE_IMAGE_BYTES=5242880 # 5MB

# Metrics
ENABLE_METRICS=1

# Warmup (run forward passes per model at startup)
ENABLE_WARMUP=1
WARMUP_BATCH_SIZE=8
WARMUP_STEPS=2
